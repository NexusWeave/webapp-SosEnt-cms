import{i as x,w as _,j as v,c as i,e as l,g as h,b as m,t as w,d as o,u as n,n as N,k as P,l as j,a as f,F as g,r as b,f as p}from"./index-DYEQRwwP.js";import{a as k,_ as C}from"./Article-IUcdc3l3.js";import"./Media-BCbonZy4.js";const B={__name:"Pagnition",props:{activePage:{default:1,type:Number,required:!1},totalPage:{default:1,type:Number,required:!1},Cls:{type:Array,required:!1}},emits:["update"],setup(y,{emit:s}){const c=s,a=y;a.data;const r=a.Cls?a.Cls:[],t=x(a.activePage);_(()=>a.activePage,d=>{t.value=d}),_(()=>t,d=>{c("update",d)},{immediate:!0});const e=v(()=>a.totalPage),u=v(()=>[{id:0,label:"Forrige",cls:["button","pagnition-btn"],disabled:t.value<=1?"disabled":!1,action:()=>{t.value>1&&t.value--}},{id:1,label:"Neste",cls:["button","archive-btn"],disabled:t.value>=e.value?"disabled":!1,action:()=>{t.value<e.value&&t.value++}}]);return(d,q)=>(l(),i("nav",{class:o(n(r)[0])},[h(k,{data:u.value[0]},null,8,["data"]),m("span",{class:o(n(r)[1])},w(t.value>0?t.value+" / "+e.value:""),3),h(k,{data:u.value[1]},null,8,["data"])],2))}},V={key:1},M={__name:"NewsView",setup(y){const s=N(),c=P({title:"Siste nytt fra foreningen",cls:["flex-wrap-row-justify-center"],section:{title:"Nyhetsarkiv",cls:["flex-wrap-row-justify-center"]}}),a=P({n:3,activePage:1,cls:["flex-wrap-row-justify-center","flex-wrap-row-align-items-center"],total:v(()=>Math.ceil(s.archived.length/a.n)),articles:v(()=>{const r=a.n,t=a.activePage,e=t*r,u=(t-1)*r;return s.archived.slice(u,e)})});return j(async()=>{await s.fetchNews()}),(r,t)=>(l(),i(g,null,[m("h2",{class:o(c.cls)},w(c.title),3),n(s).recent.length>0?(l(!0),i(g,{key:0},b(n(s).recent,e=>(l(),p(C,{key:e.id,data:e,Cls:[e.id%2?"flex-wrap-row-justify-space-around":"flex-row-reversed-justify-space-around-align-content-center","article-ingress",e.cls[0],e.cls[1],"news-article"]},null,8,["data","Cls"]))),128)):f("",!0),n(s).archived.length>0?(l(),i("section",V,[m("h2",{class:o(c.section.cls)},w(c.section.title),3),a.total>1?(l(),p(B,{key:0,Cls:a.cls,totalPage:a.total,activePage:a.activePage,onUpdate:t[0]||(t[0]=e=>a.activePage=e)},null,8,["Cls","totalPage","activePage"])):f("",!0),n(s).archived.length>0?(l(),i("section",{key:1,class:o([n(s).data.cls[1]])},[(l(!0),i(g,null,b(a.articles,e=>(l(),p(C,{key:e.id,data:e,Cls:[["flex-column-align-items-center","article-section"],"article-section",e.cls[0],e.cls[1],"news-card"]},null,8,["data","Cls"]))),128))],2)):f("",!0)])):f("",!0)],64))}};export{M as default};
